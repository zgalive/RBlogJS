(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{117:function(t,e,n){"use strict";n.r(e),function(t){n(93);var o=n(52),r=n(47),i=n.n(r),s=n(48),c=n.n(s),u=n(77),a=n.n(u),l=n(78),f=n.n(l),p=n(61),g=n.n(p),h=n(66),y=n(166);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f()(this,n)}}var v=function(e){a()(r,e);var n=d(r);function r(t){var e;return i()(this,r),(e=n.call(this,t)).store=new y.a(t),console.log(t),e}return c()(r,[{key:"componentDidMount",value:function(){this.store.initStore()}},{key:"render",value:function(){var e=this;return console.log("render"),t.createElement("div",null,this.store.blogs.map((function(n){return t.createElement("div",{key:n.id,onClick:function(){return e.store.onClickBlog()}},t.createElement("p",null,"Name: ",n.name),t.createElement("p",null,"Age: ",n.age),t.createElement("article",null,n.content))})),t.createElement("div",{style:{display:"none"}},this.store.blogs.length),t.createElement(o.a,{onClick:function(){return e.store.addBlog()}},"添加新blog"))}}]),r}(t.Component);e.default=Object(h.b)(v)}.call(this,n(0))},137:function(t,e,n){"use strict";(function(t){var o=n(47),r=n.n(o),i=n(48),s=n.n(i),c=n(139),u=n.n(c),a=t.get("accessToken")?JSON.parse(t.get("accessToken")):{},l=t.get("userSessionKey")?t.get("userSessionKey"):"",f=(new Date).getTimezoneOffset()/60*-1,p=u.a.create({baseURL:"",headers:{"user-session-key":l,token:a.access_token,"time-zone":"GMT"+(f>0?"+".concat(f):f)}}),g=function(){function t(){r()(this,t)}return s()(t,null,[{key:"REQUEST",value:function(t,e,n){switch(t="/api"+t,n){case"get":case"delete":return p[n](t,{params:e}).then((function(t){return t?t.data:null}));case"post":case"put":default:return p[n](t,e).then((function(t){return t?t.data:null}))}}},{key:"CUSTOMREQUEST",value:function(t){return p.request(t).then((function(t){return t?t.data:null}))}}]),t}();e.a=g}).call(this,n(138))},166:function(t,e,n){"use strict";var o,r,i=n(132),s=n.n(i),c=n(62),u=n.n(c),a=n(47),l=n.n(a),f=n(48),p=n.n(f),g=n(50),h=n.n(g),y=(n(92),n(133)),d=n.n(y),v=n(23),b=n.n(v),k=n(5),m=n(137),B=function(){function t(){l()(this,t)}return p()(t,null,[{key:"getBlogs",value:function(){return m.a.REQUEST("/blog/list",{},"get").then((function(t){return t||[]}))}}]),t}(),w=(o=function(){function t(e){l()(this,t),u()(this,"blogs",r,this),Object(k.makeObservable)(this),this.history=e.history}var e;return p()(t,[{key:"initStore",value:function(){this.getBlogs()}},{key:"getBlogs",value:(e=s()(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getBlogs();case 2:this.blogs=t.sent,console.log(this.blogs);case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"addBlog",value:function(){var t=this.blogs.concat([]);t.push(this.generateBlog()),this.blogs=t,console.log(this.blogs)}},{key:"generateBlog",value:function(){return{name:"Tom",age:parseInt(10*Math.random()),content:"This is blog",id:d()(100)}}},{key:"onClickBlog",value:function(){this.history.push("/detail")}}]),t}(),r=h()(o.prototype,"blogs",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h()(o.prototype,"initStore",[k.action],Object.getOwnPropertyDescriptor(o.prototype,"initStore"),o.prototype),h()(o.prototype,"getBlogs",[k.action],Object.getOwnPropertyDescriptor(o.prototype,"getBlogs"),o.prototype),h()(o.prototype,"addBlog",[k.action],Object.getOwnPropertyDescriptor(o.prototype,"addBlog"),o.prototype),o);e.a=w}}]);